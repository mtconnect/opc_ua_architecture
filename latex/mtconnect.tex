% ************************************************************************* %
% ********************** MTCONNECT DOCUMENT TEMPLATE ********************** %
% ************************************************************************* %
% 	FILENAME: 		mtconnect.tex											%
%	VERSION:		0.1														%
% 	DATE:			02/13/2018												%
%	PORTED BY:		Moneer Helu												%
%	ADDRESS:		Engineering Laboratory									%
%					National Institute of Standards and Technology (NIST)	%
%					100 Bureau Drive										%
%					Mailstop 8260											%
%					Gaithersburg, MD 20899									%
%					United States of America								%
% 	EMAIL:			moneer.helu@nist.gov									%
% 	DESCRIPTION:	Template for MTConnect documentation;					%
% 					Initial attempt for testing and discussion				%
% 	USAGE:			\documentclass[options]{mtconnect}						%
% ************************************************************************* %

\documentclass{mtconnect}	% Load mtconnect document class

\begin{document}			% Begin document here

% ************************************************************************* %
% *********************** REQUIRED INITIAL INPUTS ************************* %
% ************************************************************************* %

\docnum{OPC/UA}							% Document "number"
\doctitle{\mtconnect and OPC/UA Companion Specification}	% Full document title
\doctitleshort{\mtconnect OPC/UA Companion Specification}				% Shortened document title
\versionnum{2.0}						% MTConnect version
\preparedfor{MTConnect Institute and OPC Foundation}		% Should not change!!!
\preparedby{List of authors\ldots}				% Author
\preparedon{September 29, 2018}			% Date prepared
\drafttext{Draft }

% ************************************************************************* %
% ******************* FRONT MATTER (DO NOT CHANGE!!!) ********************* %
% ************************************************************************* %

\begin{nolinenumbers}
	\maketitle				% Title page
\end{nolinenumbers}

\pagenumbering{roman}

% MTConnect Specification and Material Statement:
\textbf{\color{mtc1}\Large {OPC Foundation and \mtconnect Institute}}

\begin{center}
    \textbf{AGREEMENT OF USE}
\end{center}

\textbf{COPYRIGHT RESTRICTIONS}

\begin{itemize}
    \item This document is provided "as is" by the OPC Foundation and the MTConnect Institute.
    \item Right of use for this specification is restricted to this specification and does not grant rights of use for referred documents.
    \item Right of use for this specification will be granted without cost.
    \item This document may be distributed through computer systems, printed or copied as long as the content remains unchanged and the document is not modified.
    \item OPC Foundation and the MTConnect Institute do not guarantee usability for any purpose and shall not be made liable for any case using the content of this document.
    \item The user of the document agrees to indemnify OPC Foundation and the MTConnect Institute and their officers, directors and agents harmless from all demands, claims, actions, losses, damages (including damages from personal injuries), costs and expenses (including attorneys' fees) which are in any way related to activities associated with its use of content from this specification.
    \item The document shall not be used in conjunction with company advertising, shall not be sold or licensed to any party.
    
    \item The intellectual property and copyright is solely owned by the OPC Foundation and the MTConnect Institute.
\end{itemize}

\textbf{PATENTS} 

The attention of adopters is directed to the possibility that compliance with or adoption of OPC or the MTConnect Institute specifications may require use of an invention covered by patent rights. OPC Foundation or the MTConnect Institute shall not be responsible for identifying patents for which a license may be required by any OPC or the MTConnect Institute specification, or for conducting legal inquiries into the legal validity or scope of those patents that are brought to its attention. OPC or the MTConnect Institute specifications are prospective and advisory only. Prospective users are responsible for protecting themselves against liability for infringement of patents.

\textbf{WARRANTY AND LIABILITY DISCLAIMERS}

WHILE THIS PUBLICATION IS BELIEVED TO BE ACCURATE, IT IS PROVIDED "AS IS" AND MAY CONTAIN ERRORS OR MISPRINTS. THE OPC FOUDATION NOR THE MTCONNECT INSTITUTE MAKES NO WARRANTY OF ANY KIND, EXPRESSED OR IMPLIED, WITH REGARD TO THIS PUBLICATION, INCLUDING BUT NOT LIMITED TO ANY WARRANTY OF TITLE OR OWNERSHIP, IMPLIED WARRANTY OF MERCHANTABILITY OR WARRANTY OF FITNESS FOR A PARTICULAR PURPOSE OR USE. IN NO EVENT SHALL THE OPC FOUNDATION NOR THE MTCONNECT INSTITUTE BE LIABLE FOR ERRORS CONTAINED HEREIN OR FOR DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, RELIANCE OR COVER DAMAGES, INCLUDING LOSS OF PROFITS, REVENUE, DATA OR USE, INCURRED BY ANY USER OR ANY THIRD PARTY IN CONNECTION WITH THE FURNISHING, PERFORMANCE, OR USE OF THIS MATERIAL, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.

The entire risk as to the quality and performance of software developed using this specification is borne by you. 

\textbf{RESTRICTED RIGHTS LEGEND}

This Specification is provided with Restricted Rights. Use, duplication or disclosure by the U.S. government is subject to restrictions as set forth in (a) this Agreement pursuant to DFARs 227.7202-3(a); (b) subparagraph (c)(1)(i) of the Rights in Technical Data and Computer Software clause at DFARs 252.227-7013; or (c) the Commercial Computer Software Restricted Rights clause at FAR 52.227-19 subdivision (c)(1) and (2), as applicable. Contractor / manufacturer are the OPC Foundation, 16101 N. 82nd Street, Suite 3B, Scottsdale, AZ, 85260-1830

\textbf{COMPLIANCE}

The combination of the MTConnect Institute and OPC Foundation shall at all times be the sole entities that may authorize developers, suppliers and sellers of hardware and software to use certification marks, trademarks or other special designations to indicate compliance with these materials as specified within this document. Products developed using this specification may claim compliance or conformance with this specification if and only if the software satisfactorily meets the certification requirements set by the MTConnect Institute or the OPC Foundation. Products that do not meet these requirements may claim only that the product was based on this specification and must not claim compliance or conformance with this specification. 

\textbf{TRADEMARKS}

Most computer and software brand names have trademarks or registered trademarks. The individual trademarks have not been listed here.

\textbf{GENERAL PROVISIONS}

Should any provision of this Agreement be held to be void, invalid, unenforceable or illegal by a court, the validity and enforceability of the other provisions shall not be affected thereby. 

This Agreement shall be governed by and construed under the laws of Germany.
This Agreement embodies the entire understanding between the parties with respect to, and supersedes any prior understanding or agreement (oral or written) relating to, this specification.


\clearpage
\tableofcontents
\thispagestyle{fancy}
\clearpage
\listoffigures
\thispagestyle{fancy}
\clearpage
%\listoftables
%\clearpage
\pagenumbering{arabic}

% ************************************************************************* %
% ******************** ENTER DOCUMENT CONTENT BELOW *********************** %
% ************************************************************************* %

\section{Introduction}\label{intro}

\subsection{Background}

In September 2010, the OPC Foundation and the MTConnect Institute signed a memorandum of understanding to provide a mechanism for OPC and MTConnect to collaborate to extend the reach of the existing manufacturing data exchange standards and implementation technologies in order to:

\begin{itemize}
    \item Evolve the existing standards for each organization to provide complete manufacturing technology interoperability.
    \item Provide the mechanism for continuous improvement of standards and specifications overseen by each body.
    \item Work directly with the end users and suppliers of technology and manufacturing. 
    \item Provide a coordinating function to exchange insights, identify overlaps, and harmonize work where appropriate.
    \item Facilitate clear communication and education for users and others concerning possible overlaps and the ways the standards and specifications can be used.
    \item Provide a solid foundation to develop and deliver specifications, technology and processes to facilitate adoption of the technology into real products.
\end{itemize}

The outcome of that agreement was an initial companion specification called MTConnect-OPC UA Version 1.2.0. MTConnect-OPC UA companion specification describes an architecture for exchanging information for interoperability and consistency between MTConnect specifications and the OPC Unified Architecture (UA) specifications, as well as describing the manufacturing technology equipment, devices, software or other products that may implement those standards.

This document, OPC Unified Architecture for MTConnect Companion Specification Draft Version 2.0, provides an update to the original companion specification to include the latest capabilities and functionality of the standards provided by the MTConnect Institute and the OPC Foundation.

\subsection{MTConnect-OPC UA Goals}

The OPC Unified Architecture for MTConnect Companion Specification is designed with the following goals in mind, in the interest of wide and rapid adoption by vendors of equipment and software:

\begin{itemize}
    \item Incremental adoption:the technical barrier to MTConnect-OPC UA enablement will be greatly reduced with this companion specification and the source code and binaries available in the MTConnect-OPC UA reference port.
    \item Evolution: MTConnect and OPC UA can incrementally evolve without jeopardizing backwards compatibility of previous MTConnect-OPC UA versions.
    \item Customizability: MTConnect-OPC UA's extensibility enables integrators to create value-added software and tools that are machine-specific or installation-specific, without jeopardizing compatibility with other equipment or software.
    \item Non-proprietary: built on open standards, backed by both the OPC Foundation and the MTConnect Institute which represents hundreds of companies, individuals, government organizations and non-profits all working toward the goal of increased productivity in the manufacturing arena.
\end{itemize}

\subsection{Who Will Find Benefit from this Specification?}

To adopt the OPC Unified Architecture for MTConnect Companion Specification one will need to have a clear understanding of both MTConnect and OPC UA. From the technical side, we will discuss MTConnect-OPC UA from:

\begin{itemize}
    \item The backend or OPC UA Server and MTConnect agent/adapter architecture.
    \item The client or software application side, we will discuss how one develops an application that is MTConnect-OPC UA enabled.
    \item Applying MTConnect semantics to devices containing an embedded OPC UA Server.
\end{itemize}

From the business side, we will reference a companion business MTConnect-OPC UA white paper that addresses the concerns from the owners and top management of the business as well as the operations and engineering management. It is the objective of this white paper to provide information primarily to MTConnect and OPC UA software developers. We do not make assumptions about the level of programming expertise beyond what would be considered to be "reasonable" level of expertise. It is for this reason that we include enough details about both MTConnect and OPC UA to provide the ability to implement this companion specification without having references back to other documents. However, the OPC and MTConnect standards are critical and become much more meaningful with the appropriate overview from this document.

\subsection{References}

\subsubsection{OPC Foundation}

The following specifications from the OPC foundation are referenced by this specification.

\hang [UA Part 1]	OPC UA Specification: Part 1 -- Concepts \\
\url{http://www.opcfoundation.org/UA/Part1/}

\hang [UA Part 2]	OPC UA Specification: Part 2 -- Security Model \\
\url{http://www.opcfoundation.org/UA/Part2/}

\hang [UA Part 3]	OPC UA Specification: Part 3 -- Address Space Model \\
\url{http://www.opcfoundation.org/UA/Part3/}

\hang [UA Part 4]	OPC UA Specification: Part 4 -- Services \\
\url{http://www.opcfoundation.org/UA/Part4/}

\hang [UA Part 5]	OPC UA Specification: Part 5 -- Information Model \\
\url{http://www.opcfoundation.org/UA/Part5/}

\hang [UA Part 6]	OPC UA Specification: Part 6 -- Mappings \\
\url{http://www.opcfoundation.org/UA/Part6/}

\hang [UA Part 7]	OPC UA Specification: Part 7 -- Profiles \\
\url{http://www.opcfoundation.org/UA/Part7/}

\hang [UA Part 8]	OPC UA Specification: Part 8 -- Data Access \\
\url{http://www.opcfoundation.org/UA/Part8/}

\hang [UA Part 9]	OPC UA Specification: Part 9 -- Alarms and Conditions \\
\url{http://www.opcfoundation.org/UA/Part9/}

\hang [UA Part 10]	OPC UA Specification: Part 10 -- Programs \\
\url{http://www.opcfoundation.org/UA/Part10/}

\hang [UA Part 11]	OPC UA Specification: Part 11 -- Historical Access \\
\url{http://www.opcfoundation.org/UA/Part11/}

\hang [UA Part 13]	OPC UA Specification: Part 13 -- Aggregates \\
\url{http://www.opcfoundation.org/UA/Part13/}

\subsubsection{\mtconnect Institute}

\hang [MT Part 1.0]	\mtconnect Standard: Part 1.0 -- Overview and Fundamentals, Version 1.4.0 \\
\url{https://static1.squarespace.com/static/54011775e4b0bc1fe0fb8494/t/5acb81f96d2a73d3a01281c5/1523286521969/MTC_Part1_0_OverviewAndFundamentals1_4_0.pdf}

\hang [MT Part 2.0]	\mtconnect Standard: Part 2.0 -- Devices Information Model, Version 1.4.0 \\
\url{https://static1.squarespace.com/static/54011775e4b0bc1fe0fb8494/t/5acb822e352f53a44f10534b/1523286575786/MTC_Part2_0_Devices_1_4_0.pdf}

\hang [MT Part 3.0]	\mtconnect Standard: Part .0 -- Streams Information Model, Version 1.4.0 \\
\url{https://static1.squarespace.com/static/54011775e4b0bc1fe0fb8494/t/5acb651e88251b53486ed7f5/1523279135088/MTC_Part3_0_StreamsInformationModel_1_4_0.pdf}

\hang [MT Part 4.0	\mtconnect Standard: Part 4 -- Assets Information Model, Version 1.4.0 \\
\url{https://static1.squarespace.com/static/54011775e4b0bc1fe0fb8494/t/5acb824a8a922dc773e19caf/1523286602677/MTC_Part4_0_AssetsInformationModel_1_4_0.pdf}

\hang [MT Part 4.1]	\mtconnect Standard: Part 4.1 -- Cutting Tools, Version 1.4.0 \\
\url{https://static1.squarespace.com/static/54011775e4b0bc1fe0fb8494/t/5acb825a03ce649b2a64b282/1523286619088/MTC_Part4_1_CuttingTools_1_4_0.pdf}

\hang [MT Part 5.0]	\mtconnect Standard: Part 5.0 -- Interfaces, Version 1.4.0 \\
\url{https://static1.squarespace.com/static/54011775e4b0bc1fe0fb8494/t/5acb826a352f53a44f10606f/1523286635455/MTC_Part5_0_Interfaces_1_4_0.pdf}

\subsection{Abbrevations}

The following abbreviation are used in this document:

\begin{itemize}
    \item ERP -- Enterprise Resource Planning
    \item HMI -- Human Machine Interface
    \item HTTP -- Hyper Text Transport Protocol
    \item MES -- Management Execution Systems
    \item PLC -- Programmable Logic Controller
    \item PMS -- Production Management Systems
    \item SCADA -- Supervisory Control And Data Acquisition
    \item TCP/IP -- Transmission Control Protocol/Internet Protocol
    \item XML -- eXtensible Mark-up Language
\end{itemize}

\section{Use Cases}

\subsection{Overview}

Before delving into the details of the specification it is useful to identify some of the key use cases for the technology. The use cases defined here are not an exhaustive list; however, they should help demonstrate how this specification is expected to be used and to help illustrate the benefits of a common information model.

\subsection{Device Maker}

The use case, shown in \ref{figure:mfg_use_case}, centers on the manufacturer of a piece of equipment or device that needs to provide connectivity to other systems. In some cases, the device manufacturer will be targeting markets other than equipment (Machine Tool) and would benefit from a more generic specification like OPC UA. On the other hand, the standardized semantics of MTConnect are extremely important to standardized communications on the manufacturing shop floor. The MTConnect-OPC UA specification and the resulting standard information model allows the device manufacturers to standardize on OPC UA as the network interface while making their information accessible to software applications that includes the enhanced meaning and structure provided by applying the MTConnect semantics. Figure 1 shows several clients developed for different purposes that can access information produced by the device via OPC UA.

\clearpage
\section{Types}\label{types}
\FloatBarrier

\input ./types.tex

\end{document}
